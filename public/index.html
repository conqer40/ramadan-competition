<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฑูุถุงูู ุนูุฏูุง - ุงููุณุงุจูุฉ ุงูุฑูุถุงููุฉ</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script src="/socket.io/socket.io.js"></script>
</head>

<body>
    <!-- Lanterns Decoration -->
    <div class="lanterns">
        <span class="lantern">๐ฎ</span>
        <span class="lantern">๐ฎ</span>
        <span class="lantern">๐ฎ</span>
        <span class="lantern">๐ฎ</span>
        <span class="lantern">๐ฎ</span>
    </div>

    <!-- Audio Control -->
    <div class="audio-control" id="audioControl" onclick="toggleAudio()">
        <i class="fas fa-volume-mute"></i>
    </div>
    <audio id="bgAudio" loop src="audio/ramadan.mp3" autoplay></audio>

    <!-- Notifications -->
    <div id="notification-container" class="notification-container"></div>

    <!-- Header -->
    <header>
        <div class="header-content">
            <a href="#" class="logo" onclick="showPage('home')">
                <i class="fas fa-moon logo-icon"></i>
                <span class="logo-text">ุฑูุถุงูู ุนูุฏูุง</span>
            </a>

            <nav>
                <a href="#" class="nav-link active" onclick="showPage('home')">ุงูุฑุฆูุณูุฉ</a>
                <a href="#" class="nav-link" onclick="showPage('competition')">ุงููุณุงุจูุฉ</a>
                <a href="#" class="nav-link" onclick="showPage('leaderboard')">ุงูุชุฑุชูุจ</a>
                <a href="#" class="nav-link" onclick="showPage('imsakia')">ุงูุฅูุณุงููุฉ</a>
                <a href="#" class="nav-link" onclick="showPage('adhkar')">ุงูุฃุฐูุงุฑ</a>
                <a href="#" class="nav-link" onclick="showPage('radio')">ุงูุฅุฐุงุนุฉ</a>
            </nav>

            <div class="header-actions" id="auth-buttons">
                <!-- Will be populated by JS -->
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Home Page -->
        <div id="page-home" class="page-container active">

            <!-- Champion Shield Section -->
            <div id="daily-champion"
                style="display:none; text-align:center; margin-bottom:2rem; animation: fadeIn 1s ease-in;">
                <div
                    style="background: linear-gradient(135deg,rgba(255,215,0,0.2), rgba(0,0,0,0.4)); border:2px solid var(--gold); border-radius:20px; padding:1.5rem; max-width:500px; margin:0 auto; position:relative; overflow:hidden;">
                    <div
                        style="position:absolute; top:-10px; left:-10px; width:50px; height:50px; background:var(--gold); transform:rotate(45deg);">
                    </div>
                    <div
                        style="position:absolute; bottom:-10px; right:-10px; width:50px; height:50px; background:var(--gold); transform:rotate(45deg);">
                    </div>

                    <h2
                        style="color:var(--gold); font-size:1.8rem; margin-bottom:1rem; text-shadow: 0 0 10px rgba(255,215,0,0.5);">
                        ๐ ุจุทู ุชุญุฏู ุงูุฃูุณ ๐</h2>

                    <div style="width:120px; height:120px; margin:0 auto 1rem; position:relative;">
                        <img id="champion-pic" src=""
                            style="width:100%; height:100%; border-radius:50%; border:4px solid var(--gold); object-fit:cover; box-shadow: 0 0 20px rgba(255,215,0,0.3);">
                        <div
                            style="position:absolute; bottom:0; right:0; background:var(--gold); color:black; width:35px; height:35px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:bold; border:2px solid black;">
                            1</div>
                    </div>

                    <h3 id="champion-name" style="font-size:1.5rem; margin-bottom:0.5rem;"></h3>
                    <p style="color:var(--text-muted);">ุฃุณุฑุน ุฅุฌุงุจุฉ ุตุญูุญุฉ ูุชุญุฏู ุงูููู <span id="champion-day">-</span>
                    </p>
                </div>
            </div>

            <!-- Countdown to Ramadan -->
            <div class="countdown-hero" id="ramadan-countdown">
                <h1 class="countdown-title">ุจุงูู ุนูู ุฑูุถุงู</h1>
                <p class="countdown-subtitle">ุงุณุชุนุฏ ูุดูุฑ ุงูุฎูุฑ ูุงูุจุฑูุงุช</p>
                <div class="countdown-timer" id="ramadan-timer">
                    <div class="countdown-box">
                        <span class="countdown-number" id="days">--</span>
                        <div class="countdown-label">ููู</div>
                    </div>
                    <div class="countdown-box">
                        <span class="countdown-number" id="hours">--</span>
                        <div class="countdown-label">ุณุงุนุฉ</div>
                    </div>
                    <div class="countdown-box">
                        <span class="countdown-number" id="minutes">--</span>
                        <div class="countdown-label">ุฏูููุฉ</div>
                    </div>
                    <div class="countdown-box">
                        <span class="countdown-number" id="seconds">--</span>
                        <div class="countdown-label">ุซุงููุฉ</div>
                    </div>
                </div>
            </div>

            <!-- Current Status (shows after Ramadan starts) -->
            <div id="ramadan-active" style="display:none;">
                <section class="hero">
                    <h1 class="hero-title">ุฑูุถุงู ูุฑูู ๐</h1>
                    <p class="hero-subtitle">ุดุงุฑู ูู ุงููุณุงุจูุฉ ุงูููููุฉ ูุงุฑุจุญ ุฌูุงุฆุฒ ูููุฉ</p>
                </section>

                <div class="info-row">
                    <div class="info-card">
                        <div class="info-label">ุงูุชุงุฑูุฎ ุงููุฌุฑู</div>
                        <div class="info-value" id="hijri-date">1 ุฑูุถุงู 1447</div>
                    </div>
                    <div class="info-card">
                        <div class="info-label">ุงูุชุงุฑูุฎ ุงููููุงุฏู</div>
                        <div class="info-value" id="gregorian-date">18 ูุจุฑุงูุฑ 2026</div>
                    </div>
                </div>

                <div class="main-cards">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon"><i class="fas fa-clock"></i></div>
                            <h3 class="card-title">ุงูุตูุงุฉ ุงููุงุฏูุฉ</h3>
                        </div>
                        <div class="countdown-display" id="prayer-countdown">--:--:--</div>
                        <div class="countdown-label" id="prayer-name" style="text-align:center;">ุงููุฌุฑ</div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon"><i class="fas fa-trophy"></i></div>
                            <h3 class="card-title">ุญุงูุฉ ุงููุณุงุจูุฉ</h3>
                        </div>
                        <div style="text-align:center;">
                            <p id="competition-message">ุณุคุงู ุงูููู ูุชุงุญ ุงูุขู!</p>
                            <div class="status-badge status-open" id="comp-status">
                                <i class="fas fa-door-open"></i> ุงููุณุงุจูุฉ ููุชูุญุฉ
                            </div>
                            <button class="btn btn-gold" style="margin-top:1.5rem;" onclick="showPage('competition')">
                                ุดุงุฑู ุงูุขู <i class="fas fa-arrow-left"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Features Showcase -->
            <section class="features-showcase">
                <h2 class="features-title">โจ ูููุฒุงุช ุงููููุน โจ</h2>
                <div class="features-row">
                    <div class="feature-box" onclick="showPage('competition')">
                        <span class="feature-emoji">๐</span>
                        <h3 class="feature-name">ูุณุงุจูุฉ ููููุฉ</h3>
                        <p class="feature-desc">ุณุคุงู ูููู ูู ุงููุฌุฑ ูููุบุฑุจ</p>
                    </div>
                    <div class="feature-box" onclick="showPage('leaderboard')">
                        <span class="feature-emoji">๐</span>
                        <h3 class="feature-name">ุชุฑุชูุจ ุงููุชุณุงุจููู</h3>
                        <p class="feature-desc">ุชุงุจุน ุชุฑุชูุจู ุจูู ุงููุชุณุงุจููู</p>
                    </div>
                    <div class="feature-box" onclick="showPage('imsakia')">
                        <span class="feature-emoji">๐</span>
                        <h3 class="feature-name">ุฅูุณุงููุฉ ุฑูุถุงู</h3>
                        <p class="feature-desc">ููุงุนูุฏ ุงูุตููุงุช ุงูููููุฉ</p>
                    </div>
                    <div class="feature-box" onclick="showPage('adhkar')">
                        <span class="feature-emoji">๐คฒ</span>
                        <h3 class="feature-name">ุงูุฃุฐูุงุฑ</h3>
                        <p class="feature-desc">ุฃุฐูุงุฑ ุงูุตุจุงุญ ูุงููุณุงุก</p>
                    </div>
                </div>
                <div class="features-row" style="margin-top:1rem;">
                    <a href="/tasbih.html" class="feature-box">
                        <span class="feature-emoji">๐ฟ</span>
                        <h3 class="feature-name">ุงูุณุจุญุฉ ุงูุฅููุชุฑูููุฉ</h3>
                        <p class="feature-desc">ุนุฏุงุฏ ุงูุชุณุจูุญ ูุงูุฃุฐูุงุฑ</p>
                    </a>
                    <a href="/quran.html" class="feature-box">
                        <span class="feature-emoji">๐</span>
                        <h3 class="feature-name">ุงููุฑุขู ุงููุฑูู</h3>
                        <p class="feature-desc">ุงูุฑุฃ ูุงุณุชูุน ูููุฑุขู</p>
                    </a>
                    <a href="/qibla.html" class="feature-box">
                        <span class="feature-emoji">๐งญ</span>
                        <h3 class="feature-name">ุงุชุฌุงู ุงููุจูุฉ</h3>
                        <p class="feature-desc">ุจูุตูุฉ ุงููุจูุฉ ุจุงูู GPS</p>
                    </a>
                    <a href="/duas.html" class="feature-box">
                        <span class="feature-emoji">๐คฒ</span>
                        <h3 class="feature-name">ุฃุฏุนูุฉ ุฑูุถุงููุฉ</h3>
                        <p class="feature-desc">ุฏุนุงุก ุงูุฅูุทุงุฑ ูุงูุณุญูุฑ</p>
                    </a>
                </div>
                <div class="features-row" style="margin-top:1rem;">
                    <a href="/khatmah.html" class="feature-box">
                        <span class="feature-emoji">๐</span>
                        <h3 class="feature-name">ุฌุฏูู ุงูุฎุชูุฉ</h3>
                        <p class="feature-desc">ุงุฎุชู ุงููุฑุขู ูู ุฑูุถุงู</p>
                    </a>
                    <a href="/tracker.html" class="feature-box">
                        <span class="feature-emoji">๐</span>
                        <h3 class="feature-name">ุชุชุจุน ุงูุนุจุงุฏุงุช</h3>
                        <p class="feature-desc">ุณุฌู ูููู ูุนุจุงุฏุงุชู</p>
                    </a>
                    <a href="/challenges.html" class="feature-box">
                        <span class="feature-emoji">๐ฏ</span>
                        <h3 class="feature-name">ุงูุชุญุฏูุงุช ุงูููููุฉ</h3>
                        <p class="feature-desc">ุชุญุฏู ููุณู ูู ููู</p>
                    </a>
                    <div class="feature-box" onclick="showPage('programs')">
                        <span class="feature-emoji">๐ฌ</span>
                        <h3 class="feature-name">ุงูุจุฑุงูุฌ</h3>
                        <p class="feature-desc">ุจุฑุงูุฌ ุฏูููุฉ ูุชููุนุฉ</p>
                    </div>
                </div>
                <div class="features-row" style="margin-top:1rem;">
                    <div class="feature-box" onclick="showPage('radio')">
                        <span class="feature-emoji">๐ป</span>
                        <h3 class="feature-name">ุฅุฐุงุนุฉ ุงููุฑุขู</h3>
                        <p class="feature-desc">ุจุซ ูุจุงุดุฑ ูู ุงููุงูุฑุฉ</p>
                    </div>
                </div>
            </section>
        </div>

        <!-- Competition Page -->
        <div id="page-competition" class="page-container">
            <div class="page-header">
                <button class="back-btn" onclick="showPage('home')"><i class="fas fa-arrow-right"></i></button>
                <h2 class="page-title">ุงููุณุงุจูุฉ ุงูููููุฉ</h2>
            </div>

            <div id="comp-login-required" class="quiz-container" style="text-align:center;">
                <i class="fas fa-lock" style="font-size:4rem; color:var(--gold); margin-bottom:1.5rem;"></i>
                <h3 style="margin-bottom:1rem;">ูุฌุจ ุชุณุฌูู ุงูุฏุฎูู ูููุดุงุฑูุฉ</h3>
                <button class="btn btn-gold" onclick="showModal('login')">ุชุณุฌูู ุงูุฏุฎูู</button>
            </div>

            <div id="comp-question" class="quiz-container" style="display:none;">
                <div class="quiz-header">
                    <span class="day-badge">ุงูููู <span id="q-day">1</span></span>
                    <span class="timer-badge"><i class="fas fa-stopwatch"></i> <span id="q-timer">60</span></span>
                </div>
                <div class="question-text" id="q-text"></div>
                <div class="options-list" id="options-list"></div>
                <button class="btn btn-gold" style="width:100%; margin-top:1.5rem;" id="submit-btn"
                    onclick="submitAnswer()" disabled>
                    ุฅุฑุณุงู ุงูุฅุฌุงุจุฉ
                </button>
            </div>

            <div id="comp-answered" class="quiz-container" style="display:none; text-align:center;">
                <i class="fas fa-check-circle" style="font-size:4rem; color:#4ade80; margin-bottom:1.5rem;"></i>
                <h3>ุชู ุชุณุฌูู ุฅุฌุงุจุชู ุจูุฌุงุญ!</h3>
                <p style="color:var(--text-muted);">ุงูุชุธุฑ ุงููุชูุฌุฉ ูุน ุฃุฐุงู ุงููุบุฑุจ</p>
            </div>

            <div id="comp-result" class="quiz-container" style="display:none;"></div>
        </div>

        <!-- Leaderboard Page -->
        <div id="page-leaderboard" class="page-container">
            <div class="page-header">
                <button class="back-btn" onclick="showPage('home')"><i class="fas fa-arrow-right"></i></button>
                <h2 class="page-title">ุชุฑุชูุจ ุงููุชุณุงุจููู</h2>
            </div>
            <div class="leaderboard-list" id="leaderboard-list"></div>
        </div>

        <!-- Imsakia Page -->
        <div id="page-imsakia" class="page-container">
            <div class="page-header">
                <button class="back-btn" onclick="showPage('home')"><i class="fas fa-arrow-right"></i></button>
                <h2 class="page-title">ุฅูุณุงููุฉ ุฑูุถุงู</h2>
            </div>
            <div style="overflow-x:auto;">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ุงูููู</th>
                            <th>ุฑูุถุงู</th>
                            <th>ุงููููุงุฏู</th>
                            <th>ุงููุฌุฑ</th>
                            <th>ุงูุดุฑูู</th>
                            <th>ุงูุธูุฑ</th>
                            <th>ุงูุนุตุฑ</th>
                            <th>ุงููุบุฑุจ</th>
                            <th>ุงูุนุดุงุก</th>
                        </tr>
                    </thead>
                    <tbody id="imsakia-tbody"></tbody>
                </table>
            </div>
        </div>

        <!-- Adhkar Page -->
        <div id="page-adhkar" class="page-container">
            <div class="page-header">
                <button class="back-btn" onclick="showPage('home')"><i class="fas fa-arrow-right"></i></button>
                <h2 class="page-title">ุงูุฃุฐูุงุฑ</h2>
            </div>
            <div class="adhkar-tabs">
                <button class="adhkar-tab active" onclick="loadAdhkar('azkar_morning', this)">ุฃุฐูุงุฑ ุงูุตุจุงุญ</button>
                <button class="adhkar-tab" onclick="loadAdhkar('azkar_evening', this)">ุฃุฐูุงุฑ ุงููุณุงุก</button>
            </div>
            <div id="adhkar-list"></div>
        </div>

        <!-- Programs Page -->
        <div id="page-programs" class="page-container">
            <div class="page-header">
                <button class="back-btn" onclick="showPage('home')"><i class="fas fa-arrow-right"></i></button>
                <h2 class="page-title">ุงูุจุฑุงูุฌ ุงูุฑูุถุงููุฉ</h2>
            </div>
            <div id="programs-list" class="programs-grid"></div>
        </div>

        <!-- Radio Page -->
        <div id="page-radio" class="page-container">
            <div class="page-header">
                <button class="back-btn" onclick="showPage('home')"><i class="fas fa-arrow-right"></i></button>
                <h2 class="page-title">ุฅุฐุงุนุฉ ุงููุฑุขู ุงููุฑูู</h2>
            </div>
            <div class="radio-container">
                <div class="radio-icon"><i class="fas fa-mosque"></i></div>
                <h3 class="radio-title">ุงูุจุซ ุงููุจุงุดุฑ</h3>
                <p class="radio-subtitle">ุฅุฐุงุนุฉ ุงููุฑุขู ุงููุฑูู ูู ุงููุงูุฑุฉ</p>
                <audio controls src="https://stream.radiojar.com/8s5u5tpdtwzuv"></audio>
            </div>
        </div>

        <!-- Admin Page -->
        <div id="page-admin" class="page-container">
            <div class="page-header">
                <button class="back-btn" onclick="showPage('home')"><i class="fas fa-arrow-right"></i></button>
                <h2 class="page-title">ููุญุฉ ุงูุชุญูู</h2>
            </div>

            <div class="admin-stats" id="admin-stats"></div>

            <div class="card" style="margin-bottom:1.5rem; text-align:center;">
                <div class="card-header">
                    <div class="card-icon"><i class="fas fa-cog"></i></div>
                    <h3 class="card-title">ุงูุฅุฏุงุฑุฉ ุงูุดุงููุฉ</h3>
                </div>
                <p style="color:var(--text-muted); margin-bottom:1rem;">ููุชุญูู ุงููุงูู ูู ุงููุณุชุฎุฏููู ูุงูุฃุณุฆูุฉ ูุงููุญุชูู
                </p>
                <a href="/admin.html" class="btn btn-gold">
                    <i class="fas fa-external-link-alt"></i> ูุชุญ ููุญุฉ ุงูุชุญูู
                </a>
            </div>

            <div class="card" style="margin-bottom:1.5rem;">
                <div class="card-header">
                    <div class="card-icon"><i class="fas fa-bullhorn"></i></div>
                    <h3 class="card-title">ุฅุฑุณุงู ุฅุดุนุงุฑ ุณุฑูุน</h3>
                </div>
                <textarea id="admin-msg" class="form-input" rows="3" placeholder="ุงูุชุจ ุฑุณุงูุชู ููุง..."
                    style="resize:none;margin-bottom:1rem;"></textarea>
                <select id="admin-msg-type" class="form-input" style="margin-bottom:1rem;">
                    <option value="info">ุฅุดุนุงุฑ ุนุงู</option>
                    <option value="warning">ุชูุจูู ูุงู</option>
                    <option value="success">ุชููุฆุฉ</option>
                </select>
                <button class="btn btn-gold" onclick="sendAdminNotify()">ุฅุฑุณุงู ููุฌููุน</button>
            </div>
        </div>
    </main>

    <!-- Auth Modal -->
    <div id="auth-modal" class="modal-overlay">
        <div class="modal-box">
            <button class="modal-close" onclick="closeModal()">&times;</button>

            <!-- Login Form -->
            <div id="login-form">
                <h2 class="modal-title">ุชุณุฌูู ุงูุฏุฎูู</h2>
                <div class="form-group">
                    <input type="tel" id="login-phone" class="form-input" placeholder="ุฑูู ุงููุงุชู">
                </div>
                <div class="form-group">
                    <input type="password" id="login-pass" class="form-input" placeholder="ูููุฉ ุงููุฑูุฑ">
                </div>
                <button class="btn btn-gold" style="width:100%;" onclick="doLogin()">ุฏุฎูู</button>
                <div class="form-switch">
                    ููุณ ูุฏูู ุญุณุงุจุ <a onclick="toggleAuthForm()">ุณุฌู ุงูุขู</a>
                </div>
            </div>

            <!-- Register Form -->
            <div id="register-form" style="display:none;">
                <h2 class="modal-title">ุญุณุงุจ ุฌุฏูุฏ</h2>
                <div class="form-group">
                    <input type="text" id="reg-name" class="form-input" placeholder="ุงูุงุณู ุงููุงูู">
                </div>
                <div class="form-group">
                    <input type="tel" id="reg-phone" class="form-input" placeholder="ุฑูู ุงููุงุชู">
                </div>
                <div class="form-group">
                    <input type="text" id="reg-id" class="form-input" placeholder="ุงูุฑูู ุงููููู" required>
                </div>
                <div class="form-group">
                    <input type="url" id="reg-fb" class="form-input" placeholder="ุฑุงุจุท ููุณุจูู (ุงุฎุชูุงุฑู)">
                </div>
                <div class="form-group">
                    <input type="password" id="reg-pass" class="form-input" placeholder="ูููุฉ ุงููุฑูุฑ" required>
                </div>
                <label class="form-checkbox">
                    <input type="checkbox" id="reg-terms"> ุฃูุงูู ุนูู ุงูุดุฑูุท ูุงูุฃุญูุงู
                </label>
                <button class="btn btn-gold" style="width:100%;" onclick="doRegister()">ุฅูุดุงุก ุญุณุงุจ</button>
                <div class="form-switch">
                    ูุฏูู ุญุณุงุจุ <a onclick="toggleAuthForm()">ุณุฌู ุฏุฎูู</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer style="text-align:center; padding:2rem; border-top:1px solid var(--border); margin-top:2rem;">
        <p style="color:var(--text-muted);">ุชู ุชุทููุฑ ุงููููุน ุจูุงุณุทุฉ <a href="https://www.facebook.com/MohamedElhawy0"
                target="_blank" style="color:var(--gold); text-decoration:none;">ูุญูุฏ ุงูุญุงูู</a> ๐</p>
    </footer>

    <script src="js/app.js"></script>
</body>

</html>